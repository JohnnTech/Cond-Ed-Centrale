<html><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ocorrências - Edifício Centrale</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.min.css" rel="stylesheet">
<link rel="stylesheet" href="/frontend/src/pages/admin/ocorrencias/ocorrencias.css">
<link rel="stylesheet" href="/frontend/src/components/admin/sidebar/sidebar.css">
<link rel="stylesheet" href="/frontend/src/components/admin/navbar/navbar.css">
<link rel="stylesheet" href="/main.css">
</head>
<body>

    <div id="navbar"></div>
    <div class="container-fluid d-flex">
      <div class="row ">
        <div id="sidebar"></div>
      </div>

    <!-- Main Content -->
    <div class="col-md-10 main-content">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fas fa-exclamation-circle"></i> Gestão de Ocorrências</h2>
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#newOccurrenceModal">
          <i class="fas fa-plus"></i> Nova Ocorrência
        </button>
      </div>

      <!-- Summary Cards -->
      <div class="row mb-4">
        <div class="col-md-3">
          <div class="card">
            <div class="card-body">
              <h6 class="card-title text-muted">Total de Ocorrências</h6>
              <h3 class="mb-0">10</h3>
              <small class="text-muted">Últimos 30 dias</small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <div class="card-body">
              <h6 class="card-title text-muted">Pendentes</h6>
              <h3 class="mb-0 text-warning">3</h3>
              <small class="text-warning">Aguardando atendimento</small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <div class="card-body">
              <h6 class="card-title text-muted">Em Andamento</h6>
              <h3 class="mb-0 text-primary">5</h3>
              <small class="text-primary">Sendo tratadas</small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <div class="card-body">
              <h6 class="card-title text-muted">Resolvidas</h6>
              <h3 class="mb-0 text-success">2</h3>
              <small class="text-success">Concluídas com sucesso</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Filters -->
      <div class="filters">
        <div class="row">
          <div class="col-md-8">
            <button class="btn btn-sm btn-outline-secondary btn-filter active">Todas</button>
            <button class="btn btn-sm btn-outline-warning btn-filter">Pendentes</button>
            <button class="btn btn-sm btn-outline-primary btn-filter">Em Andamento</button>
            <button class="btn btn-sm btn-outline-success btn-filter">Resolvidas</button>
            <button class="btn btn-sm btn-outline-danger btn-filter">Emergenciais</button>
          </div>
          <div class="col-md-4">
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Buscar ocorrências...">
              <button class="btn btn-outline-secondary">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Occurrences Table -->
      <div class="card">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table" id="occurrencesTable">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Data</th>
                  <th>Título</th>
                  <th>Reportado por</th>
                  <th>Prioridade</th>
                  <th>Status</th>
                  <th>Última Atualização</th>
                  <th>Ações</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>#001</td>
                  <td>10/05/2024</td>
                  <td>Vazamento no 3º andar</td>
                  <td>João Silva (Apt 302)</td>
                  <td><span class="priority-high"><i class="fas fa-exclamation-circle"></i> Alta</span></td>
                  <td><span class="occurrence-status status-in-progress">Em Andamento</span></td>
                  <td>Há 2 horas</td>
                  <td>
                    <button class="btn btn-sm btn-info" data-bs-toggle="modal" data-bs-target="#viewOccurrenceModal">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn btn-sm btn-primary">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-sm btn-success">
                      <i class="fas fa-check"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>#002</td>
                  <td>09/05/2024</td>
                  <td>Barulho excessivo</td>
                  <td>Maria Santos (Apt 201)</td>
                  <td><span class="priority-medium"><i class="fas fa-exclamation"></i> Média</span></td>
                  <td><span class="occurrence-status status-pending">Pendente</span></td>
                  <td>Há 1 dia</td>
                  <td>
                    <button class="btn btn-sm btn-info">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn btn-sm btn-primary">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-sm btn-success">
                      <i class="fas fa-check"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>#003</td>
                  <td>08/05/2024</td>
                  <td>Lâmpada queimada no hall</td>
                  <td>Pedro Oliveira (Apt 101)</td>
                  <td><span class="priority-low"><i class="fas fa-info-circle"></i> Baixa</span></td>
                  <td><span class="occurrence-status status-resolved">Resolvida</span></td>
                  <td>Há 2 dias</td>
                  <td>
                    <button class="btn btn-sm btn-info">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn btn-sm btn-primary">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-sm btn-secondary" disabled>
                      <i class="fas fa-check"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- New Occurrence Modal -->
<div class="modal fade" id="newOccurrenceModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Nova Ocorrência</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="newOccurrenceForm">
          <div class="row mb-3">
            <div class="col-md-8">
              <label class="form-label">Título da Ocorrência</label>
              <input type="text" class="form-control" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">Prioridade</label>
              <select class="form-select">
                <option value="low">Baixa</option>
                <option value="medium">Média</option>
                <option value="high">Alta</option>
              </select>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">Descrição Detalhada</label>
            <textarea class="form-control" rows="4" required></textarea>
          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <label class="form-label">Local</label>
              <input type="text" class="form-control">
            </div>
            <div class="col-md-6">
              <label class="form-label">Categoria</label>
              <select class="form-select">
                <option>Manutenção</option>
                <option>Segurança</option>
                <option>Barulho</option>
                <option>Limpeza</option>
                <option>Outros</option>
              </select>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">Anexos</label>
            <input type="file" class="form-control" multiple>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" form="newOccurrenceForm" class="btn btn-primary">Registrar Ocorrência</button>
      </div>
    </div>
  </div>
</div>

<!-- View Occurrence Modal -->
<div class="modal fade" id="viewOccurrenceModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Detalhes da Ocorrência #001</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="row mb-4">
          <div class="col-md-8">
            <h4>Vazamento no 3º andar</h4>
            <span class="badge bg-danger me-2">Alta Prioridade</span>
            <span class="occurrence-status status-in-progress">Em Andamento</span>
          </div>
          <div class="col-md-4 text-end">
            <small class="text-muted">Registrado em: 10/05/2024 14:30</small>
          </div>
        </div>
        
        <div class="row mb-4">
          <div class="col-md-6">
            <h6>Informações Gerais</h6>
            <p><strong>Reportado por:</strong> João Silva (Apt 302)</p>
            <p><strong>Local:</strong> Corredor do 3º andar</p>
            <p><strong>Categoria:</strong> Manutenção</p>
          </div>
          <div class="col-md-6">
            <h6>Descrição</h6>
            <p>Vazamento identificado no corredor próximo ao apartamento 304. Água escorrendo pela parede e formando poça no chão.</p>
          </div>
        </div>

        <h6>Linha do Tempo</h6>
        <div class="timeline">
          <div class="timeline-item">
            <div class="timeline-date">10/05/2024 16:30</div>
            <div>Equipe de manutenção iniciou o atendimento</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-date">10/05/2024 15:00</div>
            <div>Síndico notificado e ocorrência classificada como alta prioridade</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-date">10/05/2024 14:30</div>
            <div>Ocorrência registrada por João Silva</div>
          </div>
        </div>

        <div class="mt-4">
          <h6>Adicionar Atualização</h6>
          <div class="input-group">
            <textarea class="form-control" placeholder="Digite uma atualização..."></textarea>
            <button class="btn btn-primary">Enviar</button>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
        <button type="button" class="btn btn-success">Marcar como Resolvida</button>
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
<script src="/frontend/src/components/admin/navbar/navbar.js"></script>
<script src="/frontend/src/components/admin/sidebar/sidebar.js"></script>
<script src="/frontend/src/pages/admin/ocorrencias/ocorrencias.js">

</script>

</body>
</html>